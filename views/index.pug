doctype html
html(lang="ru")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Список задач
    style.
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; padding: 24px; }
      .box { max-width: 820px; margin: 0 auto; }
      h1 { margin: 0 0 12px; }
      .hint { color: #555; margin: 0 0 16px; }
      ul { padding-left: 18px; }
      li { margin: 10px 0; }
      .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
      .done { text-decoration: line-through; opacity: .7; }
      a { text-decoration: none; }
      .btn { padding: 4px 10px; border: 1px solid #ddd; border-radius: 8px; }
      .danger { border-color: #f2b8b8; color: #a40000; }

  body
    .box
      h1 Список задач

      p
        br
        a.btn(href="/add?task=купить+булочку") /add?task=купить+булочку
        a.btn(href="/add?task=погулять+30+минут") /add?task=погулять+30+минут

      if tasks.length === 0
        p Пока задач нет.
      else
        ul
          each t in tasks
            li
              .row
                span(class=t.completed ? 'done' : '') #{t.id}. #{t.title}
                a.btn(href=`/toggle?id=${t.id}`) #{t.completed ? 'снять' : 'выполнить'}
                a.btn.danger(href=`/delete?id=${t.id}`) удалить

      hr
