doctype html
html(lang="ru")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Список задач
    link(rel="stylesheet", href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")
    style.
      body {
        padding: 20px;
      }
      .completed {
        text-decoration: line-through;
        color: #888;
      }
      .add-task-form {
        margin-bottom: 20px;
        display: flex;
      }
      .add-task-input {
        flex-grow: 1;
        margin-right: 10px;
      }
  body
    .container
      h1.mb-4 Список задач

      form(action="/add", method="get", class="add-task-form")
        input(type="text", name="task", placeholder="Новая задача...", required, class="form-control add-task-input")
        button(type="submit", class="btn btn-primary") Добавить

      .list-group
        each task in tasks
          .list-group-item(class=task.completed ? "completed" : "")
            .d-flex.justify-content-between.align-items-center
              span #{task.title}
              div
                a(href=`/toggle?id=${task.id}`, class=`btn btn-${task.completed ? 'warning' : 'success'} btn-sm mr-2`) #{task.completed ? 'Отменить' : 'Завершить'}
                a(href=`/delete?id=${task.id}`, class="btn btn-danger btn-sm") Удалить

